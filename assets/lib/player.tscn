[gd_scene load_steps=18 format=3 uid="uid://c31s2badjsnua"]

[ext_resource type="Script" path="res://assets/scripts/player.gd" id="1_dqjj7"]
[ext_resource type="Script" path="res://assets/scripts/camshake.gd" id="2_c58xp"]
[ext_resource type="PackedScene" uid="uid://8a5etv1vqw6s" path="res://assets/lib/inventory.tscn" id="3_0tf20"]
[ext_resource type="Resource" uid="uid://ds7oiu37ynqb3" path="res://assets/items/machete/machete.tres" id="4_hmh2v"]
[ext_resource type="Resource" uid="uid://scuon6ox1yn5" path="res://assets/items/pistol/pistol.tres" id="4_moe28"]
[ext_resource type="Script" path="res://assets/scripts/additemdata.gd" id="5_7pwcv"]
[ext_resource type="Resource" uid="uid://drr3oo2k20f1r" path="res://assets/items/shotgun/shotgun.tres" id="7_sm5fi"]
[ext_resource type="PackedScene" uid="uid://dgdqkkjpnrpbm" path="res://assets/lib/console.tscn" id="10_74xdo"]
[ext_resource type="Texture2D" uid="uid://cxs3r63cfoj6w" path="res://assets/textures/cursor.png" id="11_sfn26"]
[ext_resource type="Shader" path="res://assets/shaders/negativecursor.gdshader" id="11_ydyub"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ui8lw"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_3gms1"]
height = 1.4

[sub_resource type="FastNoiseLite" id="FastNoiseLite_4tgis"]

[sub_resource type="Resource" id="Resource_f4uqc"]
script = ExtResource("5_7pwcv")
item = ExtResource("4_hmh2v")
quantity = 1

[sub_resource type="Resource" id="Resource_mxls5"]
script = ExtResource("5_7pwcv")
item = ExtResource("4_moe28")
quantity = 1

[sub_resource type="Resource" id="Resource_fyglo"]
script = ExtResource("5_7pwcv")
item = ExtResource("7_sm5fi")
quantity = 1

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wo2cj"]
shader = ExtResource("11_ydyub")

[node name="player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
collision_layer = 2
script = ExtResource("1_dqjj7")
stamina_chargetime = 3
stamina_drainrate = 0.24

[node name="standcollider" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_ui8lw")

[node name="duckcollider" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_3gms1")
disabled = true

[node name="head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.6, 0)

[node name="eyes" type="Node3D" parent="head"]

[node name="maincam" type="Camera3D" parent="head/eyes"]
fov = 80.0
script = ExtResource("2_c58xp")
trauma_reduction_rate = 2.0
max_x = 5.0
max_y = 5.0
max_z = 2.0
noise = SubResource("FastNoiseLite_4tgis")
noise_speed = 45.0

[node name="cameracolraycast" type="RayCast3D" parent="head/eyes/maincam"]
target_position = Vector3(0, 0, -1000)

[node name="interactray" type="RayCast3D" parent="head/eyes/maincam"]
target_position = Vector3(0, 0, -2)
collision_mask = 5

[node name="equipped" type="Node3D" parent="head/eyes/maincam"]

[node name="groundcolraycast" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
target_position = Vector3(0, 2, 0)

[node name="hud" type="Control" parent="."]
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="inventorylayer" type="CanvasLayer" parent="hud"]

[node name="inventory" parent="hud/inventorylayer" instance=ExtResource("3_0tf20")]
selectedcolour = Color(0.580392, 0.580392, 0.568627, 1)
startingItems = Array[ExtResource("5_7pwcv")]([SubResource("Resource_f4uqc"), SubResource("Resource_mxls5"), SubResource("Resource_fyglo")])
metadata/_edit_use_anchors_ = true

[node name="consolelayer" type="CanvasLayer" parent="hud"]

[node name="console" parent="hud/consolelayer" instance=ExtResource("10_74xdo")]

[node name="vitalslayer" type="CanvasLayer" parent="hud"]

[node name="cursor" type="CanvasLayer" parent="hud"]

[node name="centercontainer" type="CenterContainer" parent="hud/cursor"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="texture" type="TextureRect" parent="hud/cursor/centercontainer"]
material = SubResource("ShaderMaterial_wo2cj")
layout_mode = 2
mouse_filter = 2
texture = ExtResource("11_sfn26")
